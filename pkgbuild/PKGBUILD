# Maintainer: Your Name <your@email.com>
pkgname=devcontrol
pkgver=0.4
pkgrel=1
destname="/usr/local/share/${pkgname}"
pkgdesc="Description of your application"
arch=('x86_64')
url="https://github.com/harshau007/devcraft"
license=('GPL3')
depends=('go>=1.22.0' 'docker')
source=("$pkgname".tar.gz::"${url}"/releases/download/latest/"${pkgname}-${pkgver}".tar.gz)
sha256sums=('ba2befc4eaed6132104e38f99900717ec8b2f17f56aa1811a8e7f4714aee1107')

build() {
  cd ${pkgname}
  export GOPATH="${srcdir}"
  go build -o devctl
}

package() {
  install -dm755 ${pkgdir}${destname}/
  cp -r ${srcdir}/${pkgname}/dockerfile ${pkgdir}${destname}/
  cp -r ${srcdir}/${pkgname}/settings.json ${pkgdir}${destname}/

  
  cd ${pkgname}
  install -Dm755 port "${pkgdir}/usr/bin/port"
  install -Dm755 start "${pkgdir}/usr/bin/start"
  install -Dm755 devctl "${pkgdir}/usr/bin/devctl"
}
